<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz App</title>
<style>
    body{
        font-family: Arial, sans-serif;
        background:#f2f2f2;
        display:flex;
        justify-content:center;
        align-items:center;
        height:100vh;
        margin:0;
    }
    #container{
        width:400px;
        background:white;
        padding:20px;
        border-radius:15px;
        box-shadow:0 0 20px rgba(0,0,0,0.2);
    }
    h2{text-align:center;margin-bottom:20px;}
    button{
        width:100%;
        padding:10px;
        margin:8px 0;
        border:none;
        border-radius:10px;
        font-size:16px;
        cursor:pointer;
        background:#111;
        color:white;
    }
    #userNameDisplay{
        font-size:20px;
        font-weight:bold;
        margin-bottom:15px;
        text-align:center;
        display:none;
    }
    #result{
        text-align:center;
        display:none;
        font-size:18px;
        font-weight:bold;
    }
</style>
</head>
<body>

<div id="container">

    <div id="userNameDisplay"></div>

    <div id="usernameBox">
        <h2>Enter Your Name</h2>
        <input type="text" id="username" placeholder="Your Name" style="width:100%;padding:10px;border-radius:10px;border:1px solid #aaa;">
        <button onclick="startQuiz()">Start Quiz</button>
    </div>

    <div id="quizBox" style="display:none;">
        <h2 id="question"></h2>
        <div id="options"></div>
    </div>

    <div id="result"></div>

</div>

<script>
const allQuestions = [
    {question:"Which planet is known as Red Planet?",options:["Earth","Mars","Jupiter","Venus"],answer:"Mars"},
    {question:"Largest ocean in the world?",options:["Atlantic","Indian","Pacific","Arctic"],answer:"Pacific"},
    {question:"Who invented the light bulb?",options:["Newton","Tesla","Edison","Einstein"],answer:"Edison"},
    {question:"Gas absorbed by plants?",options:["Oxygen","CO2","Nitrogen","Hydrogen"],answer:"CO2"},
    {question:"Fastest animal?",options:["Tiger","Cheetah","Lion","Horse"],answer:"Cheetah"},
    {question:"Largest mammal?",options:["Elephant","Blue Whale","Giraffe","Hippo"],answer:"Blue Whale"},
    {question:"National flower of India?",options:["Rose","Lotus","Lily","Sunflower"],answer:"Lotus"},
    {question:"5 + 7 = ?",options:["10","11","12","13"],answer:"12"},
    {question:"Which is programming language?",options:["HTML","CSS","Python","Photoshop"],answer:"Python"},
    {question:"Capital of India?",options:["Delhi","Mumbai","Kolkata","Chennai"],answer:"Delhi"}
];

let userName = "";
let score = 0;
let usedIndexes = [];
let questionCount = 0;

function startQuiz(){
    const nameInput = document.getElementById("username").value.trim();
    if(nameInput === ""){ alert("Please enter your name!"); return; }

    userName = nameInput;
    document.getElementById("usernameBox").style.display = "none";
    document.getElementById("userNameDisplay").innerText = "Welcome, " + userName;
    document.getElementById("userNameDisplay").style.display = "block";

    document.getElementById("quizBox").style.display = "block";

    loadQuestion();
}

function getRandomIndex(){
    if(usedIndexes.length === allQuestions.length) return null;
    let i;
    do{
        i = Math.floor(Math.random() * allQuestions.length);
    } while(usedIndexes.includes(i));
    usedIndexes.push(i);
    return i;
}

function loadQuestion(){
    if(questionCount === 20){ endQuiz(); return; }

    let index = getRandomIndex();
    if(index === null){ endQuiz(); return; }

    questionCount++;
    let q = allQuestions[index];

    document.getElementById("question").innerText = q.question;

    const optBox = document.getElementById("options");
    optBox.innerHTML = "";
    q.options.forEach(option => {
        let btn = document.createElement("button");
        btn.innerText = option;
        btn.onclick = () => checkAnswer(option, q.answer);
        optBox.appendChild(btn);
    });
}

function checkAnswer(selected, correct){
    if(selected === correct) score++;
    loadQuestion();
}

function endQuiz(){
    document.getElementById("quizBox").style.display = "none";
    const passed = score >= 15 ? "You are PASS" : "You are FAIL";
    document.getElementById("result").style.display = "block";
    document.getElementById("result").innerHTML = `Name: <b>${userName}</b><br>Score: ${score}/20<br>${passed}`;
}
</script>

</body>
</html>